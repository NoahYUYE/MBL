# 综合驾驶舱 / Dashboard

## 设计理念与目标 / Design Philosophy and Objectives

综合驾驶舱是控制塔系统的核心界面，旨在为管理人员提供矿山运营的全局视图，支持快速决策和异常处理。设计遵循以下理念：

The Dashboard is the core interface of the Control Tower system, designed to provide management with a global view of mine operations, supporting rapid decision-making and anomaly handling. The design follows these principles:

- **一屏全览 / At-a-glance Overview**: 关键指标和状态在单一界面呈现，避免频繁页面切换
  
  Key metrics and statuses presented on a single interface, avoiding frequent page switching

- **重点突出 / Focus on Priorities**: 根据业务重要性和异常程度突出显示关键信息
  
  Highlight critical information based on business importance and anomaly severity

- **层次分明 / Clear Hierarchy**: 信息按照重要性和关联性进行分层组织
  
  Information organized in layers according to importance and relevance

- **交互灵活 / Flexible Interaction**: 支持钻取分析和个性化配置
  
  Support for drill-down analysis and personalized configuration

## 布局结构 / Layout Structure

综合驾驶舱采用响应式网格布局，主要分为以下区域：

The Dashboard adopts a responsive grid layout, mainly divided into the following areas:

### 顶部区域 / Top Area

- 系统标题与logo / System title and logo
- 时间与日期显示 / Time and date display
- 全局筛选器（日期范围、矿区选择等）/ Global filters (date range, mine area selection, etc.)
- 用户信息与系统设置 / User information and system settings

### 核心指标区 / Core Metrics Area

- 运营关键指标卡片组 / Operating KPI card group
- 当日运量与计划对比 / Daily transportation volume vs. plan comparison
- 设备利用率概览 / Equipment utilization overview
- 能源消耗指标 / Energy consumption metrics

### 地图可视化区 / Map Visualization Area

- 矿区电子地图 / Mine area electronic map
- 设备实时位置与状态 / Real-time equipment location and status
- 关键区域热点标记 / Key area hotspot marking

### 运营监控区 / Operations Monitoring Area

- 当前运行任务列表 / Current running task list
- 设备状态分布 / Equipment status distribution
- 关键节点生产状态 / Key node production status

### 告警与异常区 / Alert and Exception Area

- 未处理告警列表 / Unprocessed alert list
- 异常事件统计 / Exception event statistics
- 系统健康状态 / System health status

## 核心KPI设计 / Core KPI Design

Dashboard展示的核心KPI基于业务价值和可操作性进行设计（详细KPI定义和计算方法请参见[KPI体系](../3.2_控制塔层后端/3.2.4_KPI体系.md)文档）：

The core KPIs displayed on the Dashboard are designed based on business value and actionability (see [KPI System](../3.2_控制塔层后端/3.2.4_KPI体系.md) document for detailed KPI definitions and calculation methods):

### 运输效率指标 / Transportation Efficiency Metrics

- **日运输总量 / Daily Transportation Volume**: 当日已完成运输量与计划量对比 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#日运输总量--daily-transportation-volume)
  
  Comparison of completed transportation volume vs. planned volume for the current day

- **车辆周转率 / Vehicle Turnover Rate**: 平均每车每班次完成运输循环次数 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#车辆周转率--vehicle-turnover-rate)
  
  Average number of transportation cycles completed per vehicle per shift

- **平均循环时间 / Average Cycle Time**: 单次运输循环平均耗时 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#周转时间--turnaround-time)
  
  Average time consumed per transportation cycle

- **装卸等待时间 / Loading/Unloading Waiting Time**: 车辆在装卸点的平均等待时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#装载点等待时间--loading-point-waiting-time)、[详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#卸载队列等待时间--unloading-queue-waiting-time)
  
  Average waiting time of vehicles at loading/unloading points

### 设备状态指标 / Equipment Status Metrics

- **设备利用率 / Equipment Utilization Rate**: 设备实际工作时间占可用时间的比例 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#车辆利用率--vehicle-utilization-rate)
  
  Proportion of actual working time to available time of equipment

- **设备可用率 / Equipment Availability Rate**: 设备处于可用状态的时间占总时间的比例 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#设备可用率--equipment-availability-rate)
  
  Proportion of time when equipment is in an available state to total time

- **故障率 / Failure Rate**: 设备发生故障的频率 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#故障率--failure-rate)
  
  Frequency of equipment failures

- **电动卡车电量状态 / EV Truck Battery Status**: 电动卡车电池剩余电量分布 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#电动卡车电量状态--ev-truck-battery-status)
  
  Distribution of remaining battery levels for electric trucks

### 能源管理指标 / Energy Management Metrics

- **单位能耗 / Unit Energy Consumption**: 每吨公里运输的能源消耗量 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#单位能耗--unit-energy-consumption)
  
  Energy consumption per ton-kilometer of transportation

- **换电效率 / Battery Swap Efficiency**: 平均换电完成时间和排队时间 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#换电效率--battery-swap-efficiency)
  
  Average battery swap completion time and queuing time

- **柴油消耗量 / Diesel Consumption**: 柴油设备的燃油消耗总量和趋势 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#柴油消耗量--diesel-consumption)
  
  Total fuel consumption and trend of diesel equipment

### 运营质量指标 / Operational Quality Metrics

- **计划执行率 / Plan Execution Rate**: 任务按计划执行的比例 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#计划执行率--plan-execution-rate)
  
  Proportion of tasks executed according to plan

- **异常事件数量 / Number of Exceptional Events**: 分类统计的异常事件数量 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#异常事件数量--number-of-exceptional-events)
  
  Number of exceptional events by category

- **安全事件指标 / Safety Incident Metrics**: 安全相关事件的数量和等级 - [详细定义](../3.2_控制塔层后端/3.2.6_资源KPI.md#安全事件指标--safety-incident-metrics)
  
  Number and level of safety-related incidents

## 功能清单 / Function List

### 核心功能 / Core Functions

| 功能ID | 功能名称<br>Function Name | 功能描述<br>Description | 用户角色<br>User Role | 实现阶段<br>Phase |
|--------|--------------------------|------------------------|---------------------|-----------------|
| D-01   | 运营KPI总览<br>Operation KPI Overview | 显示关键运营指标卡片组，包括运输量、设备利用率、能耗指标等<br>Display key operational indicator cards including transportation volume, equipment utilization, energy consumption metrics, etc. | 运营经理<br>Operations Manager | 第一阶段<br>Phase 1 |
| D-02   | 矿区设备地图<br>Mine Equipment Map | 矿区电子地图上展示所有设备实时位置和状态<br>Display real-time location and status of all equipment on the mine electronic map | 调度员/运营经理<br>Dispatcher/Operations Manager | 第一阶段<br>Phase 1 |
| D-03   | 任务执行监控<br>Task Execution Monitoring | 显示当前正在执行的运输任务列表及完成进度<br>Display list of transportation tasks currently being executed and completion progress | 调度员<br>Dispatcher | 第一阶段<br>Phase 1 |
| D-04   | 设备状态分布<br>Equipment Status Distribution | 以饼图/条形图显示不同状态设备的数量分布<br>Display quantity distribution of equipment in different statuses using pie/bar charts | 车队经理<br>Fleet Manager | 第一阶段<br>Phase 1 |
| D-05   | 告警中心<br>Alert Center | 按优先级显示未处理的系统告警和异常事件<br>Display unprocessed system alerts and exceptional events by priority | 所有管理人员<br>All Managers | 第一阶段<br>Phase 1 |

### 辅助功能 / Supporting Functions

| 功能ID | 功能名称<br>Function Name | 功能描述<br>Description | 用户角色<br>User Role | 实现阶段<br>Phase |
|--------|--------------------------|------------------------|---------------------|-----------------|
| D-06   | 驾驶舱个性化配置<br>Dashboard Personalization | 允许用户调整KPI卡片布局和显示内容<br>Allow users to adjust KPI card layout and display content | 所有用户<br>All Users | 第二阶段<br>Phase 2 |
| D-07   | 数据导出<br>Data Export | 将当前视图数据导出为Excel或PDF<br>Export current view data to Excel or PDF | 所有用户<br>All Users | 第二阶段<br>Phase 2 |
| D-08   | 历史数据对比<br>Historical Data Comparison | 支持当前数据与历史数据的对比分析<br>Support comparative analysis of current data with historical data | 运营经理<br>Operations Manager | 第二阶段<br>Phase 2 |
| D-09   | 异常智能分析<br>Intelligent Exception Analysis | 对异常数据进行根因分析并提供处理建议<br>Root cause analysis of abnormal data and provision of processing suggestions | 运营经理<br>Operations Manager | 未来实现<br>Plan for Future |

## 数据刷新策略 / Data Refresh Strategy

Dashboard的数据刷新策略基于数据重要性和变化频率设计：

The data refresh strategy of the Dashboard is designed based on data importance and frequency of change:

- **实时数据 / Real-time Data**: 车辆位置、设备状态等每10-30秒刷新一次
  
  Vehicle location, equipment status, etc. refresh every 10-30 seconds

- **准实时数据 / Near Real-time Data**: 运量统计、能耗数据等每5分钟刷新一次
  
  Transportation volume statistics, energy consumption data, etc. refresh every 5 minutes

- **汇总数据 / Summary Data**: KPI数据、统计图表等每小时刷新一次
  
  KPI data, statistical charts, etc. refresh once per hour

- **告警数据 / Alert Data**: 告警和异常事件实时推送
  
  Alerts and exceptional events are pushed in real time

## 交互设计 / Interaction Design

Dashboard支持以下交互方式，增强数据探索和分析能力：

The Dashboard supports the following interaction methods to enhance data exploration and analysis capabilities:

- **数据钻取 / Data Drill-down**: 点击KPI卡片可查看详细数据和趋势图
  
  Click on KPI cards to view detailed data and trend charts

- **地图交互 / Map Interaction**: 支持地图缩放、平移、设备选择和详情查看
  
  Support for map zooming, panning, equipment selection, and detail viewing

- **筛选器联动 / Filter Linkage**: 全局筛选器变更自动更新所有相关视图
  
  Global filter changes automatically update all relevant views

- **上下文菜单 / Context Menu**: 右键点击数据元素显示相关操作选项
  
  Right-click on data elements to display related operation options

- **响应式布局 / Responsive Layout**: 自动适应不同屏幕尺寸和分辨率
  
  Automatically adapt to different screen sizes and resolutions

## 界面预期效果 / Expected Interface Effect

Dashboard界面预期达到的视觉效果和用户体验：

Expected visual effect and user experience of the Dashboard interface:

- **信息密度适中 / Moderate Information Density**: 避免信息过载，确保关键数据清晰可见
  
  Avoid information overload, ensure key data is clearly visible

- **视觉层次分明 / Clear Visual Hierarchy**: 通过色彩、大小、位置等视觉元素强调重要信息
  
  Emphasize important information through visual elements such as color, size, position, etc.

- **状态一目了然 / Status at a Glance**: 使用直观的色彩编码表示状态（绿色=正常，黄色=警告，红色=严重）
  
  Use intuitive color coding to represent status (green=normal, yellow=warning, red=serious)

- **一致的设计语言 / Consistent Design Language**: 在所有组件中保持一致的设计样式和交互模式
  
  Maintain consistent design style and interaction patterns across all components

## 与其他视图的关联 / Association with Other Views

Dashboard与系统其他视图的关联和导航关系：

Association and navigation relationship between the Dashboard and other system views:

- **流程视图关联 / Process View Association**: 点击相关KPI可跳转至对应流程视图进行深入分析
  
  Click on relevant KPIs to jump to the corresponding process view for in-depth analysis

- **资源视图关联 / Resource View Association**: 从设备状态分布图导航至资源视图查看设备详情
  
  Navigate from the equipment status distribution chart to the resource view to see equipment details

- **数据联动 / Data Linkage**: 全局筛选器设置在所有视图间共享
  
  Global filter settings are shared across all views
