# 数据集成架构 / Data Integration Architecture

## 概述 / Overview

数据集成架构是控制塔后端的基础组件，负责从应用层系统收集、整合和管理数据，为KPI计算和前端展示提供数据支持。

The data integration architecture is a fundamental component of the control tower backend, responsible for collecting, integrating, and managing data from application layer systems to provide data support for KPI calculation and frontend display.

## 数据源定位 / Data Source Positioning

控制塔后端的数据主要来源于应用层的两个核心系统：

The data for the control tower backend mainly comes from two core systems in the application layer:

### 智能Hauling系统 / Intelligent Hauling System

提供与运输作业流程相关的业务数据，包括：

Provides business data related to transportation operation processes, including:

- 任务规划数据 / Task planning data
- 装载管理数据 / Loading management data
- 运输管理数据 / Transportation management data
- 驳船装载数据 / Barge loading data
- 空车返回数据 / Empty return data

### 设备管理系统 / Equipment Management System

提供与设备相关的状态和性能数据，包括：

Provides status and performance data related to equipment, including:

- 设备基础信息 / Basic equipment information
- 设备运行状态 / Equipment operational status
- 位置跟踪数据 / Location tracking data
- 设备健康数据 / Equipment health data
- 能源消耗数据 / Energy consumption data

## 数据集成方式 / Data Integration Method

控制塔后端采用以下方式从应用层系统集成数据：

The control tower backend uses the following methods to integrate data from application layer systems:

### 实时数据集成 / Real-time Data Integration

- **API接口调用 / API Interface Calls**: 通过标准化API从应用系统实时获取数据
  
  Obtain data in real-time from application systems through standardized APIs

- **消息队列 / Message Queues**: 应用系统将关键事件和状态变更推送到消息队列，控制塔后端订阅并处理
  
  Application systems push key events and status changes to message queues, which the control tower backend subscribes to and processes

### 批量数据集成 / Batch Data Integration

- **定时数据同步 / Scheduled Data Synchronization**: 定期从应用系统数据库同步历史数据和汇总数据
  
  Regularly synchronize historical data and summary data from application system databases

- **ETL处理 / ETL Processing**: 对批量数据进行提取、转换和加载，确保数据质量和一致性
  
  Extract, transform, and load batch data to ensure data quality and consistency

## 数据分类 / Data Classification

控制塔后端集成的数据分为以下几类：

The data integrated by the control tower backend is classified into the following categories:

### 业务数据 / Business Data

- 任务数据 / Task data
- 计划数据 / Planning data
- 运输数据 / Transportation data
- 装卸数据 / Loading and unloading data

### 设备数据 / Equipment Data

- 状态数据 / Status data
- 位置数据 / Location data
- 健康数据 / Health data
- 能耗数据 / Energy consumption data

### 统计数据 / Statistical Data

- 历史汇总数据 / Historical summary data
- 趋势数据 / Trend data
- KPI基础数据 / KPI base data

## 数据流转 / Data Flow

控制塔后端的数据流转过程如下：

The data flow process in the control tower backend is as follows:

1. **数据采集 / Data Collection**: 从应用层系统采集原始数据
   
   Collect raw data from application layer systems

2. **数据处理 / Data Processing**: 进行数据清洗、转换和标准化
   
   Perform data cleaning, transformation, and standardization

3. **数据存储 / Data Storage**: 将处理后的数据存储到数据库中
   
   Store processed data in the database

4. **数据提供 / Data Provision**: 通过计算引擎和API服务将数据提供给控制塔前端
   
   Provide data to the control tower frontend through the calculation engine and API services

### 数据流转示意图 / Data Flow Diagram

```
┌─────────────────┐     ┌─────────────────┐
│  智能Hauling系统  │     │   设备管理系统   │
│ Intelligent     │     │ Equipment       │
│ Hauling System  │     │ Management      │
└────────┬────────┘     └────────┬────────┘
         │                       │
         ▼                       ▼
┌─────────────────────────────────────────┐
│            数据集成层               │
│         Data Integration Layer         │
└────────────────────┬──────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────┐
│              数据存储                │
│            Data Storage               │
└────────────────────┬──────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────┐
│             计算引擎                │
│         Calculation Engine             │
└────────────────────┬──────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────┐
│             API服务                │
│           API Services               │
└────────────────────┬──────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────┐
│            控制塔前端               │
│        Control Tower Frontend          │
└─────────────────────────────────────────┘
```

## 数据管理策略 / Data Management Strategy

为确保数据质量和安全，控制塔后端采用以下数据管理策略：

To ensure data quality and security, the control tower backend adopts the following data management strategies:

- **数据质量控制 / Data Quality Control**: 实施数据验证和异常检测机制
  
  Implement data validation and anomaly detection mechanisms

- **数据安全保护 / Data Security Protection**: 实施数据访问控制和加密措施
  
  Implement data access control and encryption measures

- **数据生命周期管理 / Data Lifecycle Management**: 制定数据保留和归档策略
  
  Establish data retention and archiving policies
