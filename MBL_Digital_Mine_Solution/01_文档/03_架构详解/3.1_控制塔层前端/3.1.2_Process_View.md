# 流程视图 / Process View

## 设计目标 / Design Objectives

流程视图旨在提供Hauling作业流程的端到端可视化，帮助运营管理者和业务人员从流程维度理解和分析运营状况，有效识别流程瓶颈和优化机会。具体目标包括：

The Process View aims to provide end-to-end visualization of the Hauling operation process, helping operations managers and business personnel understand and analyze operational conditions from a process dimension, effectively identifying process bottlenecks and optimization opportunities. Specific objectives include:

- **流程透视 / Process Perspective**: 提供贯穿Hauling全流程的作业视角，展示各环节状态与关联
  
  Provide an operational view throughout the entire Hauling process, showing the status and correlations of each link

- **瓶颈识别 / Bottleneck Identification**: 直观呈现流程中的堵点、延误和异常情况
  
  Intuitively present bottlenecks, delays, and anomalies in the process

- **效率分析 / Efficiency Analysis**: 支持各环节效率指标的对比分析和趋势追踪
  
  Support comparative analysis and trend tracking of efficiency indicators for each link

- **决策辅助 / Decision Support**: 为资源调配和流程优化提供数据支持
  
  Provide data support for resource allocation and process optimization

## 流程展示方式 / Process Visualization Method

流程视图采用多种可视化方式展示Hauling作业流程：

The Process View uses various visualization methods to display the Hauling operation process:

### 主流程图 / Main Process Diagram

- **流程泳道图 / Process Swimlane Diagram**: 横向展示任务规划、装载、运输、卸载、空返等主要环节
  
  Horizontally display major links such as task planning, loading, transportation, unloading, empty return, etc.

- **节点状态标记 / Node Status Marking**: 使用色彩和图标标记各节点运行状态
  
  Use colors and icons to mark the operating status of each node

- **流程进度指示 / Process Progress Indication**: 显示当前活跃任务在流程中的位置和进度
  
  Display the position and progress of current active tasks in the process

### 各环节KPI面板 / KPI Panel for Each Stage

- **环节KPI卡片 / Stage KPI Cards**: 为每个环节提供关键效率和质量指标
  
  Provide key efficiency and quality indicators for each stage

- **趋势迷你图 / Trend Mini-charts**: 显示指标随时间变化的简要趋势
  
  Show brief trends of indicators over time

### 流程时间线 / Process Timeline

- **甘特图视图 / Gantt Chart View**: 显示任务在各环节的时间分布
  
  Show time distribution of tasks in each stage

- **关键路径分析 / Critical Path Analysis**: 突出显示影响总体效率的关键路径
  
  Highlight critical paths that affect overall efficiency

## 各阶段KPI设计 / KPI Design for Each Stage

流程视图按Hauling作业主要阶段组织和展示KPI（详细KPI定义和计算方法请参见[流程KPI](../3.2_控制塔层后端/3.2.5_流程KPI.md)文档）：

The Process View organizes and displays KPIs according to the main stages of Hauling operations (see [Process KPIs](../3.2_控制塔层后端/3.2.5_流程KPI.md) document for detailed KPI definitions and calculation methods):

### 任务规划阶段 / Task Planning Stage

- **计划完成率 / Plan Completion Rate**: 按计划完成的任务比例 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#计划执行率--plan-execution-rate)
  
  Proportion of tasks completed according to plan

- **资源匹配度 / Resource Matching Degree**: 任务与分配资源的匹配程度 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#资源匹配度--resource-matching-degree)
  
  Degree of matching between tasks and allocated resources

- **计划调整频率 / Plan Adjustment Frequency**: 计划需要调整的频率 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#计划调整频率--plan-adjustment-frequency)
  
  Frequency of needed plan adjustments

### 装载阶段 / Loading Stage

- **平均装载时间 / Average Loading Time**: 完成单车装载的平均时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#装载时间--loading-time)
  
  Average time to complete loading of a single vehicle

- **装载点等待时间 / Loading Point Waiting Time**: 车辆在装载点的平均等待时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#装载点等待时间--loading-point-waiting-time)
  
  Average waiting time of vehicles at loading points

- **装载量标准差 / Loading Volume Standard Deviation**: 装载量的波动程度 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#装载量标准差--loading-volume-standard-deviation)
  
  Degree of fluctuation in loading volume

### 运输阶段 / Transportation Stage

- **平均运输速度 / Average Transportation Speed**: 车辆运行的平均速度 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#平均速度--average-speed)
  
  Average speed of vehicle operation

- **路线遵循率 / Route Adherence Rate**: 按规划路线行驶的比例 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#路线遵循率--route-adherence-rate)
  
  Proportion of driving according to planned routes

- **燃料/电力效率 / Fuel/Electric Efficiency**: 单位距离的能源消耗 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#燃料电力效率--fuelelectricity-efficiency)
  
  Energy consumption per unit distance

### 卸载阶段 / Unloading Stage

- **平均卸载时间 / Average Unloading Time**: 完成单车卸载的平均时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#卸载时间--unloading-time)
  
  Average time to complete unloading of a single vehicle

- **卸载点等待时间 / Unloading Point Waiting Time**: 车辆在卸载点的平均等待时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#卸载队列等待时间--unloading-queue-waiting-time)
  
  Average waiting time of vehicles at unloading points

- **卸载量精准度 / Unloading Volume Accuracy**: 实际卸载量与计划量的符合度 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#卸载量精准度--unloading-volume-accuracy)
  
  Conformity of actual unloading volume to planned volume

### 空返阶段 / Empty Return Stage

- **平均空返时间 / Average Empty Return Time**: 从卸载点返回装载点的平均时间 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#平均空返时间--average-empty-return-time)
  
  Average time to return from unloading points to loading points

- **空车利用率 / Empty Vehicle Utilization Rate**: 空返车辆的资源利用情况 - [详细定义](../3.2_控制塔层后端/3.2.5_流程KPI.md#空车利用率--empty-vehicle-utilization-rate)
  
  Resource utilization of returning empty vehicles

## 功能清单 / Function List

### 核心功能 / Core Functions

| 功能ID | 功能名称<br>Function Name | 功能描述<br>Description | 用户角色<br>User Role | 实现阶段<br>Phase |
|--------|--------------------------|------------------------|---------------------|-----------------|
| P-01   | 流程泳道图<br>Process Swimlane Diagram | 横向展示Hauling作业各环节和流转关系<br>Horizontally display various stages and flow relationships of Hauling operations | 运营经理/调度员<br>Operations Manager/Dispatcher | 第一阶段<br>Phase 1 |
| P-02   | 环节KPI面板<br>Stage KPI Panel | 为每个环节显示关键效率和质量指标<br>Display key efficiency and quality indicators for each stage | 运营经理<br>Operations Manager | 第一阶段<br>Phase 1 |
| P-03   | 瓶颈分析<br>Bottleneck Analysis | 识别并高亮显示当前流程中的瓶颈环节<br>Identify and highlight bottleneck links in the current process | 运营经理<br>Operations Manager | 第二阶段<br>Phase 2 |
| P-04   | 任务流转跟踪<br>Task Flow Tracking | 跟踪并显示任务在各环节的流转情况<br>Track and display the flow of tasks in various stages | 调度员<br>Dispatcher | 第一阶段<br>Phase 1 |
| P-05   | 流程异常监控<br>Process Exception Monitoring | 监控并显示流程中的各类异常情况<br>Monitor and display various exceptions in the process | 调度员/运营经理<br>Dispatcher/Operations Manager | 第一阶段<br>Phase 1 |

### 辅助功能 / Supporting Functions

| 功能ID | 功能名称<br>Function Name | 功能描述<br>Description | 用户角色<br>User Role | 实现阶段<br>Phase |
|--------|--------------------------|------------------------|---------------------|-----------------|
| P-06   | 流程时间分析<br>Process Time Analysis | 分析并展示任务在各环节的时间分布<br>Analyze and display the time distribution of tasks in each stage | 运营经理<br>Operations Manager | 第二阶段<br>Phase 2 |
| P-07   | 历史对比<br>Historical Comparison | 支持与历史时期流程效率的对比<br>Support comparison with process efficiency from historical periods | 运营经理<br>Operations Manager | 第二阶段<br>Phase 2 |
| P-08   | 流程优化建议<br>Process Optimization Suggestions | 基于数据分析提供流程优化建议<br>Provide process optimization suggestions based on data analysis | 运营经理<br>Operations Manager | 未来实现<br>Plan for Future |
| P-09   | 资源调配模拟<br>Resource Allocation Simulation | 模拟不同资源调配方案对流程效率的影响<br>Simulate the impact of different resource allocation plans on process efficiency | 调度员/运营经理<br>Dispatcher/Operations Manager | 未来实现<br>Plan for Future |
| P-10   | 自定义流程视图<br>Custom Process View | 允许用户自定义流程视图的显示内容和布局<br>Allow users to customize the display content and layout of the process view | 所有用户<br>All Users | 未来实现<br>Plan for Future |

## 流程节点状态设计 / Process Node Status Design

流程视图中的节点状态使用直观的视觉元素表示：

Node statuses in the Process View are represented using intuitive visual elements:

- **正常运行 / Normal Operation**: 绿色节点，表示该环节运行正常
  
  Green nodes, indicating the stage is operating normally

- **轻度异常 / Minor Exception**: 黄色节点，表示该环节存在需要关注的问题
  
  Yellow nodes, indicating there are issues that need attention in the stage

- **严重异常 / Serious Exception**: 红色节点，表示该环节存在严重问题需要立即处理
  
  Red nodes, indicating there are serious issues in the stage that need immediate handling

- **暂停状态 / Paused Status**: 灰色节点，表示该环节当前暂停运行
  
  Gray nodes, indicating the stage is currently paused

- **节点负载 / Node Load**: 通过图标大小或填充度表示节点的当前负载情况
  
  Represent the current load of nodes through icon size or fill level

## 数据筛选与分析 / Data Filtering and Analysis

流程视图提供以下筛选和分析功能，支持深入研究流程效率：

The Process View provides the following filtering and analysis functions to support in-depth study of process efficiency:

- **时间范围筛选 / Time Range Filtering**: 选择特定时间段的流程数据
  
  Select process data for specific time periods

- **资源类型筛选 / Resource Type Filtering**: 按车辆类型、驾驶员等筛选数据
  
  Filter data by vehicle type, driver, etc.

- **区域筛选 / Area Filtering**: 按矿区、装卸点等筛选数据
  
  Filter data by mining area, loading/unloading points, etc.

- **效率分段分析 / Efficiency Segment Analysis**: 将流程效率分为高、中、低效段进行对比
  
  Compare process efficiency by dividing it into high, medium, and low-efficiency segments

- **异常分类分析 / Exception Classification Analysis**: 按类型统计和分析流程异常
  
  Statistically analyze process exceptions by type

## 与其他视图的关联 / Association with Other Views

流程视图与系统其他视图的关联和导航关系：

Association and navigation relationship between the Process View and other system views:

- **Dashboard关联 / Dashboard Association**: 从Dashboard上的流程相关KPI可导航到相应流程视图
  
  Navigate to the corresponding process view from process-related KPIs on the Dashboard

- **资源视图关联 / Resource View Association**: 从流程节点可查看相关资源的详细状态
  
  View detailed status of related resources from process nodes

- **筛选条件共享 / Shared Filtering Conditions**: 视图间共享筛选条件，保持数据一致性
  
  Share filtering conditions between views to maintain data consistency
