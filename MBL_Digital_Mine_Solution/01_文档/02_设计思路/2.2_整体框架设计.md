# 整体框架设计 / Overall Framework Design

## 设计原则 / Design Principles

数字矿山管控塔整体框架设计遵循以下核心原则：

The Digital Mine Control Tower overall framework design follows these core principles:

- **分层架构 / Layered Architecture**：采用清晰的分层设计，确保各层职责明确、耦合度低
  
  Adopts a clear layered design to ensure each layer has well-defined responsibilities with low coupling

- **模块化设计 / Modular Design**：系统各组件采用模块化设计，支持灵活配置和扩展
  
  System components adopt modular design to support flexible configuration and expansion

- **数据驱动 / Data-Driven**：以数据为核心，构建统一的数据集成和分析能力
  
  Built around data as the core, establishing unified data integration and analytics capabilities

- **场景导向 / Scenario-Oriented**：基于核心业务场景构建功能，确保系统满足实际业务需求
  
  Functions built based on core business scenarios to ensure the system meets actual business needs

- **开放集成 / Open Integration**：提供标准化接口，支持与现有IT系统和设备的无缝集成
  
  Provides standardized interfaces to support seamless integration with existing IT systems and equipment

## 整体架构框架 / Overall Architecture Framework

MBL数字矿山管控塔采用五层架构设计，自上而下分别为：

The MBL Digital Mine Control Tower adopts a five-layer architecture design, from top to bottom:

### 1. 控制塔层前端 / Control Tower Frontend Layer

控制塔层前端是整个系统的"智能大脑"和决策支持中枢，为管理人员和业务人员提供直观的数据可视化和业务操作界面。主要包含三类视图：

The Control Tower Frontend Layer serves as the "intelligent brain" and decision support center of the entire system, providing intuitive data visualization and business operation interfaces for management and business personnel. It mainly includes three types of views:

- **L1: 综合驾驶舱 / Dashboard**：展示核心KPI和健康指标，提供全局业务视图
  
  Displays core KPIs and health indicators, providing a global business view

- **L2: 流程视图 / Process View**：按Hauling作业阶段组织KPI，支持流程透视
  
  Organizes KPIs by Hauling operation stages, supporting process perspective

- **L3: 资源视图 / Resource View**：关注卡车、驳船、发电机等关键资源的指标
  
  Focuses on metrics for key resources such as trucks, barges, and diesel generators

### 2. 控制塔层后端 / Control Tower Backend Layer

控制塔层后端提供支撑控制塔前端运行所需的数据处理和计算能力，是连接前端展示和底层数据的桥梁。主要包括：

The Control Tower Backend Layer provides the data processing and calculation capabilities needed to support the frontend operation, serving as a bridge connecting frontend display and underlying data. It mainly includes:

- **统一数据集成 / Unified Data Integration**：多源数据组合和API服务，实现数据汇聚
  
  Multi-source data combination and API services to achieve data convergence

- **数据计算 / Data Computing**：KPI计算和统计分析，支持业务指标生成
  
  KPI calculation and statistical analysis to support business metrics generation

### 3. 应用层 / Application Layer

应用层包含核心业务系统，负责实现具体业务场景的功能需求。主要系统包括：

The Application Layer contains core business systems responsible for implementing functional requirements of specific business scenarios. The main systems include:

- **智能Hauling系统 / Intelligent Hauling System**：实现运输全流程的数字化和智能化
  
  Implements digitization and intelligence of the entire transportation process
  
  - 任务规划 / Task Planning
  - 装载管理 / Loading Management
  - 运输管理 / Transportation Management
  - 驳船装载 / Barge Loading
  - 空车返回 / Empty Return

- **设备管理系统 / Equipment Management System**：实现设备全生命周期管理
  
  Implements full lifecycle management of equipment
  
  - 数据监测 / Data Monitoring
  - GPS跟踪 / GPS Tracking
  - 设备维护 / Equipment Maintenance
  - 轮胎健康管理 / Tire Health Management
  - 备件管理 / Spare Parts Management
  - 燃料/能源消耗 / Fuel/Energy Consumption
  - 设备类型管理 / Equipment Type Management
  - 统计报表 / Statistical Reports

### 4. 设备层 / Device Layer

设备层包括现场各类设备及其数据采集组件，是系统数据的主要来源。主要包括：

The Device Layer includes various on-site equipment and their data collection components, serving as the main source of system data. It mainly includes:

- **三一设备 / Sany Equipment**
  
  - 电动卡车 / EV Truck
  - 柴油发电机 / Diesel Generator
  - 换电站 / Swap Station
  - T-Box（已内置）/ T-Box (Already Built-in)
  - 轮胎传感器 / Tire Sensor

- **非三一设备 / Non-Sany Equipment**
  
  - 柴油卡车 / Diesel Truck
  - 柴油罐 / Diesel Tank
  - T-Box（如可能）/ T-Box (if possible)
  - GPS追踪器 / GPS Tracker
  - 轮胎传感器 / Tire Sensor
  - 燃料传感器 / Fuel Sensor

### 5. 系统集成 / System Integration

系统集成层提供与外部IT系统的接口和集成能力，确保数据的完整性和业务的连贯性。主要集成系统包括：

The System Integration layer provides interfaces and integration capabilities with external IT systems, ensuring data integrity and business continuity. The main integrated systems include:

- **地磅系统 / WeighBridge System**
- **驳船物流系统 / Barge Logistics System**
- **采购系统 / Procurement System**
- **库存系统 / Inventory System**
- **ERP系统 / ERP System**

## 数据流转 / Data Flow

系统数据流转遵循"采集-传输-存储-处理-应用"的路径：

System data flow follows the path of "collection-transmission-storage-processing-application":

1. **数据采集 / Data Collection**：通过设备层的各类传感器和T-Box采集原始数据
   
   Collects raw data through various sensors and T-Boxes in the device layer

2. **数据传输 / Data Transmission**：通过移动网络将数据传输至云平台
   
   Transmits data to the cloud platform through mobile networks

3. **数据存储 / Data Storage**：在控制塔后端进行数据存储和管理
   
   Stores and manages data in the control tower backend

4. **数据处理 / Data Processing**：通过控制塔后端进行数据清洗、转换和计算
   
   Cleans, transforms, and calculates data through the control tower backend

5. **数据应用 / Data Application**：在控制塔前端和应用层实现数据的可视化和业务应用
   
   Realizes data visualization and business application in the control tower frontend and application layer

## 部署模式 / Deployment Mode

系统采用"云+边"的混合部署模式：

The system adopts a hybrid "cloud+edge" deployment mode:

- **云端部署 / Cloud Deployment**：控制塔层、应用层和数据存储部署在云平台
  
  Control tower layer, application layer, and data storage deployed on cloud platform

- **设备端部署 / Device Deployment**：在设备上部署数据采集和基础处理组件
  
  Data collection and basic processing components deployed on equipment

## 扩展性考量 / Scalability Considerations

系统设计具备良好的扩展性，支持未来功能和规模的扩展：

The system design has good scalability to support future functional and scale expansion:

- **横向扩展 / Horizontal Scaling**：支持增加更多设备和用户
  
  Supports adding more devices and users

- **纵向扩展 / Vertical Scaling**：支持增加更多业务场景和功能模块
  
  Supports adding more business scenarios and functional modules

- **深度扩展 / Depth Scaling**：支持算法和AI能力的持续增强
  
  Supports continuous enhancement of algorithms and AI capabilities

## 总结 / Summary

MBL数字矿山管控塔整体框架采用分层设计，自上而下包括控制塔层前端、控制塔层后端、应用层、设备层和系统集成层。这种架构设计清晰定义了各层职责，确保系统具备良好的可维护性和扩展性，同时通过数据流转机制实现了从设备数据采集到业务决策支持的全流程数字化。

The MBL Digital Mine Control Tower overall framework adopts a layered design, including control tower frontend layer, control tower backend layer, application layer, device layer, and system integration layer from top to bottom. This architecture design clearly defines the responsibilities of each layer, ensuring the system has good maintainability and scalability, while realizing end-to-end digitization from equipment data collection to business decision support through the data flow mechanism.
